---
// Navigation component for the site
---

<nav class="absolute top-0 left-0 right-0 z-20 p-6 bg-black/80 backdrop-blur-sm border-b border-cyber-500/30" aria-label="Main">
    <div class="max-w-7xl mx-auto flex justify-between items-center">
        <div class="flex items-center gap-4">
            <!-- Burger Menu Toggle Button (Hidden on screens >= 1400px) -->
            <button id="menu-toggle" class="2xl:hidden text-cyber-400 hover:text-cyber-300 focus:outline-none focus-visible:ring-2 focus-visible:ring-cyber-400 rounded p-2" aria-label="Toggle menu" aria-expanded="false">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24">
                    <line x1="3" y1="12" x2="21" y2="12"></line>
                    <line x1="3" y1="6" x2="21" y2="6"></line>
                    <line x1="3" y1="18" x2="21" y2="18"></line>
                </svg>
            </button>
            <a href="/" class="text-cyber-400 font-bold text-xl font-mono tracking-wider focus:outline-none focus-visible:ring-2 focus-visible:ring-cyber-400 focus-visible:ring-offset-2 focus-visible:ring-offset-black rounded" aria-label="Brand home">
                &gt; VULNERA_
            </a>
        </div>
    </div>
    
</nav>

<script>
    // Mobile sidebar toggle
    const toggleBtn = document.getElementById('menu-toggle');
    const sidebar = document.getElementById('sidebar');
    
    function toggleMobileSidebar() {
        if (window.innerWidth < 1400) {
            sidebar?.classList.toggle('mobile-open');
            const isOpen = sidebar?.classList.contains('mobile-open');
            toggleBtn?.setAttribute('aria-expanded', isOpen ? 'true' : 'false');
        }
    }
    
    if (toggleBtn) {
        toggleBtn.addEventListener('click', toggleMobileSidebar);
    }

    // Close sidebar when clicking outside on mobile
    document.addEventListener('click', (e) => {
        if (window.innerWidth < 1400 && 
            sidebar?.classList.contains('mobile-open') && 
            !sidebar.contains(e.target as Node) && 
            !toggleBtn?.contains(e.target as Node)) {
            sidebar?.classList.remove('mobile-open');
            toggleBtn?.setAttribute('aria-expanded', 'false');
        }
    });

    // Listen for storage changes (multi-tab sync)
    window.addEventListener('storage', () => {
        // Reload to update auth state
        location.reload();
    });
</script>