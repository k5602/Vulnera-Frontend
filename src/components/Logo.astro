---
interface Props {
    class?: string;
}

const { class: className } = Astro.props;
---

<div class:list={["relative inline-block shrink-0 group", className]}>
    <svg
        viewBox="0 0 100 100"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
        class="w-full h-full overflow-visible"
        aria-label="Vulnera Logo"
    >
        <defs>
            <linearGradient
                id="hex-gradient"
                x1="0%"
                y1="0%"
                x2="100%"
                y2="100%"
            >
                <stop offset="0%" stop-color="#00e5d1" stop-opacity="0.8"
                ></stop>
                <stop offset="100%" stop-color="#22c55e" stop-opacity="0.8"
                ></stop>
            </linearGradient>

            <filter id="glow" x="-50%" y="-50%" width="200%" height="200%">
                <feGaussianBlur stdDeviation="2" result="coloredBlur"
                ></feGaussianBlur>
                <feMerge>
                    <feMergeNode in="coloredBlur"></feMergeNode>
                    <feMergeNode in="SourceGraphic"></feMergeNode>
                </feMerge>
            </filter>

            <mask id="circuit-mask">
                <rect width="100" height="100" fill="white"></rect>
                <path
                    d="M50 20 L50 35 M20 35 L35 42 M80 35 L65 42 M50 80 L50 65"
                    stroke="black"
                    stroke-width="2"></path>
            </mask>
        </defs>

        <!-- Hexagonal Frame -->
        <path
            d="M50 5 L90 25 V75 L50 95 L10 75 V25 Z"
            stroke="url(#hex-gradient)"
            stroke-width="1.5"
            fill="rgba(0, 20, 10, 0.6)"
            class="transition-all duration-300 group-hover:stroke-[2]"></path>

        <!-- Inner Circuit Lines -->
        <g class="opacity-60" stroke="#00e5d1" stroke-width="0.5">
            <path d="M50 5 V25"></path>
            <path d="M90 25 L70 35"></path>
            <path d="M90 75 L70 65"></path>
            <path d="M50 95 V75"></path>
            <path d="M10 75 L30 65"></path>
            <path d="M10 25 L30 35"></path>
        </g>

        <!-- Central V Chip -->
        <path
            d="M30 35 L50 70 L70 35"
            fill="none"
            stroke="url(#hex-gradient)"
            stroke-width="3"
            stroke-linecap="round"
            stroke-linejoin="round"
            filter="url(#glow)"
            class="animate-pulse-slow"></path>

        <!-- Data Particles -->
        <circle r="1.5" fill="#fff" class="animate-particle-1">
            <animateMotion dur="3s" repeatCount="indefinite" path="M50 5 V35"
            ></animateMotion>
        </circle>
        <circle r="1.5" fill="#fff" class="animate-particle-2">
            <animateMotion
                dur="4s"
                repeatCount="indefinite"
                path="M10 75 L50 70"></animateMotion>
        </circle>
        <circle r="1.5" fill="#fff" class="animate-particle-3">
            <animateMotion
                dur="3.5s"
                repeatCount="indefinite"
                path="M90 25 L50 35"></animateMotion>
        </circle>

        <!-- Core Node -->
        <circle
            cx="50"
            cy="50"
            r="2"
            fill="#fff"
            class="animate-ping opacity-75"></circle>
    </svg>

    <!-- External Glow -->
    <div
        class="absolute inset-0 bg-gradient-to-r from-cyber-400/30 to-matrix-400/30 blur-xl rounded-full opacity-0 group-hover:opacity-60 transition-opacity duration-500 -z-10 scale-150"
    >
    </div>
</div>

<style>
    .animate-pulse-slow {
        animation: pulse-glow 3s ease-in-out infinite;
    }

    @keyframes pulse-glow {
        0%,
        100% {
            opacity: 0.8;
            stroke-width: 3;
        }
        50% {
            opacity: 1;
            stroke-width: 4;
            filter: drop-shadow(0 0 5px #00e5d1);
        }
    }

    .animate-particle-1 {
        animation-delay: 0s;
    }
    .animate-particle-2 {
        animation-delay: 1s;
    }
    .animate-particle-3 {
        animation-delay: 2s;
    }
</style>
