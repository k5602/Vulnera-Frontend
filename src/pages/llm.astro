---
import Layout from "../layouts/Layout.astro";
import Navigation from "../components/Navigation.astro";
---

<Layout title="Vulnero bot â€” Intelligent Security Assistant">
  <Navigation />
  <div class="relative min-h-screen overflow-hidden pt-20 pb-12">
    <!-- Enhanced Background Effects -->
    <div class="absolute inset-0 z-0">
      <!-- Animated gradient orbs -->
      <div
        class="absolute top-1/4 left-1/4 w-96 h-96 bg-green-500/10 rounded-full blur-[120px] animate-pulse"
      >
      </div>
      <div
        class="absolute bottom-1/4 right-1/4 w-96 h-96 bg-emerald-500/10 rounded-full blur-[120px] animate-pulse"
        style="animation-delay: 1.5s;"
      >
      </div>
      <div
        class="absolute top-1/2 left-1/2 w-64 h-64 bg-green-400/5 rounded-full blur-[100px] animate-pulse"
        style="animation-delay: 0.7s;"
      >
      </div>

      <!-- Matrix grid overlay -->
      <div
        class="absolute inset-0 opacity-5"
        style="background-image: linear-gradient(rgba(34, 197, 94, 0.1) 1px, transparent 1px), linear-gradient(90deg, rgba(34, 197, 94, 0.1) 1px, transparent 1px); background-size: 50px 50px;"
      >
      </div>

      <!-- Scanline effect -->
      <div
        class="absolute inset-0 pointer-events-none opacity-10"
        style="background: repeating-linear-gradient(0deg, rgba(34, 197, 94, 0.03) 0px, transparent 2px, transparent 4px);"
      >
      </div>
    </div>

    <div class="relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <!-- Header -->
      <div class="text-center mb-12">
        <div
          class="inline-flex items-center space-x-2 px-3 py-1 rounded-full border border-cyber-500/30 bg-cyber-950/30 backdrop-blur-sm mb-6 mt-10"
        >
          <span class="relative flex h-2 w-2">
            <span
              class="animate-ping absolute inline-flex h-full w-full rounded-full bg-cyber-400 opacity-75"
            ></span>
            <span class="relative inline-flex rounded-full h-2 w-2 bg-cyber-500"
            ></span>
          </span>
          <span class="text-xs text-cyber-300 font-mono tracking-wider"
            >AI POWERED</span
          >
        </div>

        <h1
          class="text-4xl md:text-5xl font-bold font-mono text-white mb-4 tracking-tight"
        >
          <span
            class="text-transparent bg-clip-text bg-gradient-to-r from-green-400 via-emerald-400 to-green-500"
            >VULNERO BOT</span
          >
        </h1>
        <p class="text-lg text-gray-400 max-w-2xl mx-auto">
          AI-powered vulnerability analysis, explanations, and automatic fixes
        </p>
      </div>

      <!-- Mode Selector -->
      <div class="flex justify-center mb-12">
        <div
          class="flex items-center bg-black/60 border border-cyber-500/30 rounded-lg overflow-hidden"
        >
          <button
            id="mode-explain"
            class="mode-btn px-8 py-3 text-sm font-bold uppercase tracking-wider transition-all border-r border-cyber-500/30 active bg-cyan-500/20 text-cyan-400"
          >
            EXPLAIN
          </button>
          <button
            id="mode-fix"
            class="mode-btn px-8 py-3 text-sm font-bold uppercase tracking-wider transition-all border-r border-cyber-500/30 text-green-500/50 hover:text-green-400"
          >
            FIX
          </button>
          <button
            id="mode-query"
            class="mode-btn px-8 py-3 text-sm font-bold uppercase tracking-wider transition-all text-green-500/50 hover:text-green-400"
          >
            VULNERO-BOT
          </button>
        </div>
      </div>

      <!-- Main Content Grid -->
      <div class="grid lg:grid-cols-2 gap-8">
        <!-- Explain Form -->
        <div
          id="explain-section"
          class="bg-black/60 backdrop-blur-sm border border-white/10 rounded-xl p-6 lg:p-8"
        >
          <div class="flex items-center gap-3 mb-6">
            <div
              class="w-10 h-10 rounded-lg bg-cyan-950 border border-cyan-500/30 flex items-center justify-center"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="h-5 w-5 text-cyan-400"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"
                ></path>
              </svg>
            </div>
            <div>
              <h2 class="text-xl font-bold text-white font-mono">
                Explain Vulnerability
              </h2>
              <p class="text-sm text-gray-500">
                Get detailed AI analysis of CVEs
              </p>
            </div>
          </div>

          <form id="explain-form" class="space-y-5">
            <!-- Vulnerability ID -->
            <div>
              <label
                for="explain_vulnerability_id"
                class="block text-sm font-mono text-gray-400 mb-2"
              >
                Vulnerability ID <span class="text-red-500">*</span>
              </label>
              <input
                type="text"
                id="explain_vulnerability_id"
                name="vulnerability_id"
                placeholder="CVE-2021-44228"
                class="w-full bg-black/50 border border-white/10 rounded-lg px-4 py-3 text-white font-mono text-sm placeholder-gray-600 focus:outline-none focus:border-cyan-500/50 focus:ring-1 focus:ring-cyan-500/30 transition-all"
                required
              />
            </div>

            <!-- Description (Optional) -->
            <div>
              <label
                for="explain_description"
                class="block text-sm font-mono text-gray-400 mb-2"
              >
                Description <span class="text-gray-600">(optional)</span>
              </label>
              <textarea
                id="explain_description"
                name="description"
                placeholder="Brief description of the vulnerability..."
                class="w-full bg-black/50 border border-white/10 rounded-lg px-4 py-3 text-white font-mono text-sm placeholder-gray-600 focus:outline-none focus:border-cyan-500/50 focus:ring-1 focus:ring-cyan-500/30 transition-all resize-none h-20"
              ></textarea>
            </div>

            <!-- Affected Component (Optional) -->
            <div>
              <label
                for="explain_component"
                class="block text-sm font-mono text-gray-400 mb-2"
              >
                Affected Component <span class="text-gray-600">(optional)</span>
              </label>
              <input
                type="text"
                id="explain_component"
                name="affected_component"
                placeholder="e.g., Apache Log4j"
                class="w-full bg-black/50 border border-white/10 rounded-lg px-4 py-3 text-white font-mono text-sm placeholder-gray-600 focus:outline-none focus:border-cyan-500/50 focus:ring-1 focus:ring-cyan-500/30 transition-all"
              />
            </div>

            <!-- Audience Selection -->
            <div>
              <label class="block text-sm font-mono text-gray-400 mb-2"
                >Target Audience</label
              >
              <div class="grid grid-cols-3 gap-3">
                <button
                  type="button"
                  data-audience="technical"
                  class="audience-btn-explain active border-2 border-cyan-500/50 bg-cyan-500/10 text-cyan-400 py-3 font-mono text-xs font-bold transition-all uppercase rounded-lg"
                  >Technical</button
                >
                <button
                  type="button"
                  data-audience="executive"
                  class="audience-btn-explain border border-white/10 bg-black text-gray-500 py-3 font-mono text-xs font-bold hover:bg-white/5 hover:text-gray-300 transition-all uppercase rounded-lg"
                  >Executive</button
                >
                <button
                  type="button"
                  data-audience="developer"
                  class="audience-btn-explain border border-white/10 bg-black text-gray-500 py-3 font-mono text-xs font-bold hover:bg-white/5 hover:text-gray-300 transition-all uppercase rounded-lg"
                  >Developer</button
                >
              </div>
            </div>

            <!-- Submit Button -->
            <button
              type="submit"
              id="btn-explain"
              class="w-full bg-linear-to-r from-cyan-600 to-blue-600 hover:from-cyan-500 hover:to-blue-500 text-white font-bold py-4 font-mono text-sm transition-all uppercase tracking-wider flex items-center justify-center gap-2 rounded-lg shadow-[0_0_20px_rgba(6,182,212,0.2)] hover:shadow-[0_0_30px_rgba(6,182,212,0.4)] disabled:opacity-50 disabled:cursor-not-allowed"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="h-5 w-5"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M13 10V3L4 14h7v7l9-11h-7z"></path>
              </svg>
              <span>Analyze Vulnerability</span>
            </button>
          </form>
        </div>

        <!-- Explain Output Panel -->
        <div
          id="explain-output"
          class="bg-black/60 backdrop-blur-sm border border-white/10 rounded-xl p-6 lg:p-8 flex flex-col"
        >
          <div class="flex items-center gap-3 mb-6">
            <div
              class="w-10 h-10 rounded-lg bg-cyan-950 border border-cyan-500/30 flex items-center justify-center"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="h-5 w-5 text-cyan-400"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"
                ></path>
              </svg>
            </div>
            <div>
              <h2 class="text-xl font-bold text-white font-mono">
                AI Analysis
              </h2>
              <p class="text-sm text-gray-500">
                Detailed vulnerability explanation
              </p>
            </div>
          </div>

          <!-- Result Container -->
          <div
            id="result-container"
            class="flex-1 bg-black/40 border border-white/5 rounded-lg p-5 min-h-[400px] overflow-auto custom-scrollbar"
          >
            <!-- Empty State -->
            <div
              id="empty-state"
              class="h-full flex flex-col items-center justify-center text-center"
            >
              <div class="text-gray-700 mb-4">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  class="h-16 w-16"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke="currentColor"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="1"
                    d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
                  ></path>
                </svg>
              </div>
              <p class="text-gray-600 font-mono text-sm">
                Enter vulnerability details and click analyze
              </p>
              <p class="text-gray-700 font-mono text-xs mt-2">
                AI will provide detailed insights
              </p>
            </div>

            <!-- Loading State -->
            <div
              id="loading-state"
              class="hidden h-full flex-col items-center justify-center"
            >
              <div class="relative">
                <div
                  class="w-16 h-16 border-4 border-cyber-500/20 rounded-full"
                >
                </div>
                <div
                  class="absolute top-0 left-0 w-16 h-16 border-4 border-transparent border-t-cyber-500 rounded-full animate-spin"
                >
                </div>
              </div>
              <p class="text-cyber-400 font-mono text-sm mt-4 animate-pulse">
                Analyzing vulnerability...
              </p>
            </div>

            <!-- Result Content -->
            <div id="result-content" class="hidden space-y-4">
              <!-- Will be populated by JS -->
            </div>

            <!-- Error State -->
            <div
              id="error-state"
              class="hidden h-full flex-col items-center justify-center text-center"
            >
              <div class="text-red-500 mb-4">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  class="h-16 w-16"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke="currentColor"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="1"
                    d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"
                  ></path>
                </svg>
              </div>
              <p class="text-red-400 font-mono text-sm" id="error-message">
                An error occurred
              </p>
            </div>
          </div>
        </div>

        <!-- Fix Form -->
        <div
          id="fix-section"
          class="hidden bg-black/60 backdrop-blur-sm border border-white/10 rounded-xl p-6 lg:p-8"
        >
          <div class="flex items-center gap-3 mb-6">
            <div
              class="w-10 h-10 rounded-lg bg-green-950 border border-green-500/30 flex items-center justify-center"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="h-5 w-5 text-green-400"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M13 10V3L4 14h7v7l9-11h-7z"></path>
              </svg>
            </div>
            <div>
              <h2 class="text-xl font-bold text-white font-mono">
                Generate Fix
              </h2>
              <p class="text-sm text-gray-500">Get AI-generated code fixes</p>
            </div>
          </div>

          <form id="fix-form" class="space-y-5">
            <!-- Vulnerability ID -->
            <div>
              <label
                for="fix_vulnerability_id"
                class="block text-sm font-mono text-gray-400 mb-2"
              >
                Vulnerability ID <span class="text-red-500">*</span>
              </label>
              <input
                type="text"
                id="fix_vulnerability_id"
                name="vulnerability_id"
                placeholder="CVE-2021-44228"
                class="w-full bg-black/50 border border-white/10 rounded-lg px-4 py-3 text-white font-mono text-sm placeholder-gray-600 focus:outline-none focus:border-green-500/50 focus:ring-1 focus:ring-green-500/30 transition-all"
                required
              />
            </div>

            <!-- Context/Code -->
            <div>
              <label
                for="fix_context"
                class="block text-sm font-mono text-gray-400 mb-2"
              >
                Context <span class="text-gray-500">(not required)</span>
              </label>
              <textarea
                id="fix_context"
                name="context"
                rows="3"
                placeholder="Affected file path or context code snippet"
                class="w-full bg-black/50 border border-white/10 rounded-lg px-4 py-3 text-white font-mono text-sm placeholder-gray-600 focus:outline-none focus:border-green-500/50 focus:ring-1 focus:ring-green-500/30 transition-all resize-none"
              ></textarea>
            </div>

            <!-- Language -->
            <div>
              <label
                for="fix_language"
                class="block text-sm font-mono text-gray-400 mb-2"
              >
              </label>
              <select
                id="fix_language"
                name="language"
                class="w-full bg-black/50 border border-white/10 rounded-lg px-4 py-3 text-white font-mono text-sm focus:outline-none focus:border-green-500/50 focus:ring-1 focus:ring-green-500/30 transition-all"
              >
                <option value="javascript">JavaScript/TypeScript</option>
                <option value="python">Python</option>
                <option value="java">Java</option>
                <option value="csharp">C#</option>
                <option value="go">Go</option>
                <option value="rust">Rust</option>
                <option value="php">PHP</option>
                <option value="ruby">Ruby</option>
              </select>
            </div>

            <!-- Submit Button -->
            <button
              type="submit"
              id="btn-fix"
              class="w-full bg-linear-to-r from-green-600 to-emerald-600 hover:from-green-500 hover:to-emerald-500 text-white font-bold py-4 font-mono text-sm transition-all uppercase tracking-wider flex items-center justify-center gap-2 rounded-lg shadow-[0_0_20px_rgba(34,197,94,0.2)] hover:shadow-[0_0_30px_rgba(34,197,94,0.4)] disabled:opacity-50 disabled:cursor-not-allowed"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="h-5 w-5"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M13 10V3L4 14h7v7l9-11h-7z"></path>
              </svg>
              <span>Generate Fix</span>
            </button>
          </form>
        </div>

        <!-- Fix Output Panel -->
        <div
          id="fix-output"
          class="hidden bg-black/60 backdrop-blur-sm border border-white/10 rounded-xl p-6 lg:p-8 flex-col"
        >
          <div class="flex items-center gap-3 mb-6">
            <div
              class="w-10 h-10 rounded-lg bg-green-950 border border-green-500/30 flex items-center justify-center"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="h-5 w-5 text-green-400"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"
                ></path>
              </svg>
            </div>
            <div>
              <h2 class="text-xl font-bold text-white font-mono">Fixed Code</h2>
              <p class="text-sm text-gray-500">AI-generated solution</p>
            </div>
          </div>

          <!-- Result Container -->
          <div
            id="fix-result-container"
            class="flex-1 bg-black/40 border border-white/5 rounded-lg p-5 min-h-[400px] overflow-auto custom-scrollbar"
          >
            <!-- Empty State -->
            <div
              id="fix-empty-state"
              class="h-full flex flex-col items-center justify-center text-center"
            >
              <div class="text-gray-700 mb-4">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  class="h-16 w-16"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke="currentColor"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="1"
                    d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
                  ></path>
                </svg>
              </div>
              <p class="text-gray-600 font-mono text-sm">
                Enter vulnerability ID to generate fix
              </p>
            </div>

            <!-- Loading State -->
            <div
              id="fix-loading-state"
              class="hidden h-full flex-col items-center justify-center"
            >
              <div class="relative">
                <div
                  class="w-16 h-16 border-4 border-green-500/20 rounded-full"
                >
                </div>
                <div
                  class="absolute top-0 left-0 w-16 h-16 border-4 border-transparent border-t-green-500 rounded-full animate-spin"
                >
                </div>
              </div>
              <p class="text-green-400 font-mono text-sm mt-4 animate-pulse">
                Generating fix...
              </p>
            </div>

            <!-- Result Content -->
            <div id="fix-result-content" class="hidden space-y-4">
              <!-- Will be populated by JS -->
            </div>

            <!-- Error State -->
            <div
              id="fix-error-state"
              class="hidden h-full flex-col items-center justify-center text-center"
            >
              <div class="text-red-500 mb-4">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  class="h-16 w-16"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke="currentColor"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="1"
                    d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"
                  ></path>
                </svg>
              </div>
              <p class="text-red-400 font-mono text-sm" id="fix-error-message">
                An error occurred
                <p
                  class="text-red-400 font-mono text-sm uppercase tracking-widest"
                  id="query-error-message"
                >
                  SYSTEM_ERROR
                </p>
              </p>
            </div>
          </div>
        </div>

        <!-- Query Form -->
        <div
          id="query-section"
          class="hidden bg-black/60 backdrop-blur-sm border border-white/10 rounded-xl p-6 lg:p-8 shadow-[0_0_30px_rgba(34,197,94,0.1)]"
        >
          <div class="flex items-center gap-3 mb-6">
            <div
              class="w-10 h-10 rounded-lg bg-green-950 border border-green-500/30 flex items-center justify-center"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="h-5 w-5 text-green-400"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"
                ></path>
              </svg>
            </div>
            <div>
              <h2 class="text-xl font-bold text-white font-mono">
                Vulnero-Bot Query
              </h2>
              <p class="text-sm text-gray-500">
                Ask anything about vulnerabilities
              </p>
            </div>
          </div>

          <form id="query-form" class="space-y-5">
            <!-- Query Input -->
            <div>
              <label
                for="query_input"
                class="block text-sm font-mono text-gray-400 mb-2"
              >
                Your Question <span class="text-red-500">*</span>
              </label>
              <textarea
                id="query_input"
                name="query"
                rows="4"
                placeholder="What is a SQL injection vulnerability and how can I prevent it?"
                class="w-full bg-black/50 border border-white/10 rounded-lg px-4 py-3 text-white font-mono text-sm placeholder-gray-600 focus:outline-none focus:border-green-500/50 focus:ring-1 focus:ring-green-500/30 transition-all resize-none"
                required></textarea>
            </div>

            <!-- Submit Button -->
            <button
              type="submit"
              id="btn-query"
              class="w-full bg-linear-to-r from-green-600 to-emerald-600 hover:from-green-500 hover:to-emerald-500 text-white font-bold py-4 font-mono text-sm transition-all uppercase tracking-wider flex items-center justify-center gap-2 rounded-lg shadow-[0_0_20px_rgba(34,197,94,0.2)] hover:shadow-[0_0_30px_rgba(34,197,94,0.4)] disabled:opacity-50 disabled:cursor-not-allowed"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="h-5 w-5"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M13 10V3L4 14h7v7l9-11h-7z"></path>
              </svg>
              <span>Ask Vulnero-Bot</span>
            </button>
          </form>
        </div>

        <!-- Query Output Panel -->
        <div
          id="query-output"
          class="hidden bg-black/60 backdrop-blur-sm border border-white/10 rounded-xl p-6 lg:p-8 flex flex-col shadow-[0_0_30px_rgba(34,197,94,0.1)]"
        >
          <div class="flex items-center gap-3 mb-6">
            <div
              class="w-10 h-10 rounded-lg bg-green-950 border border-green-500/30 flex items-center justify-center"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="h-5 w-5 text-green-400"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"
                ></path>
              </svg>
            </div>
            <div>
              <h2 class="text-xl font-bold text-white font-mono">
                AI Response
              </h2>
              <p class="text-sm text-gray-500">Intelligent answer</p>
            </div>
          </div>

          <!-- Result Container -->
          <div
            id="query-result-container"
            class="flex-1 bg-black/40 border border-white/5 rounded-lg p-5 min-h-[400px] overflow-auto custom-scrollbar"
          >
            <!-- Empty State -->
            <div
              id="query-empty-state"
              class="h-full flex flex-col items-center justify-center text-center"
            >
              <div class="text-gray-700 mb-4">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  class="h-16 w-16"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke="currentColor"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="1"
                    d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
                  ></path>
                </svg>
              </div>
              <p class="text-gray-600 font-mono text-sm">
                Ask a question to get started
              </p>
              <p class="text-gray-700 font-mono text-xs mt-2">
                AI will provide detailed answers
              </p>
            </div>

            <!-- Loading State -->
            <div
              id="query-loading-state"
              class="hidden h-full flex-col items-center justify-center"
            >
              <div class="relative">
                <div
                  class="w-16 h-16 border-4 border-green-500/20 rounded-full"
                >
                </div>
                <div
                  class="absolute top-0 left-0 w-16 h-16 border-4 border-transparent border-t-green-500 rounded-full animate-spin"
                >
                </div>
              </div>
              <p class="text-green-400 font-mono text-sm mt-4 animate-pulse">
                Processing query...
              </p>
            </div>

            <!-- Result Content -->
            <div id="query-result-content" class="hidden space-y-4">
              <!-- Will be populated by JS -->
            </div>

            <!-- Error State -->
            <div
              id="query-error-state"
              class="hidden h-full flex-col items-center justify-center text-center"
            >
              <div class="text-red-500 mb-4">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  class="h-16 w-16"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke="currentColor"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="1"
                    d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"
                  ></path>
                </svg>
              </div>
              <p
                class="text-red-400 font-mono text-sm uppercase tracking-widest"
                id="query-error-message"
              >
                SYSTEM_ERROR
              </p>
            </div>
          </div>
        </div>

        <!-- Feature Cards -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mt-12">
          <!-- Feature 1 -->
          <div
            class="p-5 rounded-xl border border-cyber-500/20 bg-black/40 backdrop-blur-sm hover:border-cyber-500/50 transition-all duration-300 group"
          >
            <div
              class="w-10 h-10 rounded-lg bg-cyber-950 border border-cyber-500/30 flex items-center justify-center mb-3 group-hover:scale-110 transition-transform"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="h-5 w-5 text-cyber-400"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
              </svg>
            </div>
            <h3 class="text-lg font-bold text-white mb-1 font-mono">
              CVE Analysis
            </h3>
            <p class="text-gray-400 text-sm">
              Get comprehensive breakdowns of CVE vulnerabilities with impact
              assessment
            </p>
          </div>

          <!-- Feature 2 -->
          <div
            class="p-5 rounded-xl border border-matrix-500/20 bg-black/40 backdrop-blur-sm hover:border-matrix-500/50 transition-all duration-300 group"
          >
            <div
              class="w-10 h-10 rounded-lg bg-matrix-950 border border-matrix-500/30 flex items-center justify-center mb-3 group-hover:scale-110 transition-transform"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="h-5 w-5 text-matrix-400"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"></path>
              </svg>
            </div>
            <h3 class="text-lg font-bold text-white mb-1 font-mono">
              Remediation Steps
            </h3>
            <p class="text-gray-400 text-sm">
              AI-generated fix recommendations tailored to your tech stack
            </p>
          </div>

          <!-- Feature 3 -->
          <div
            class="p-5 rounded-xl border border-cyber-500/20 bg-black/40 backdrop-blur-sm hover:border-cyber-500/50 transition-all duration-300 group"
          >
            <div
              class="w-10 h-10 rounded-lg bg-cyber-950 border border-cyber-500/30 flex items-center justify-center mb-3 group-hover:scale-110 transition-transform"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="h-5 w-5 text-cyber-400"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"
                ></path>
              </svg>
            </div>
            <h3 class="text-lg font-bold text-white mb-1 font-mono">
              Multiple Audiences
            </h3>
            <p class="text-gray-400 text-sm">
              Explanations tailored for technical, executive, or developer
              audiences
            </p>
          </div>
        </div>
      </div>
    </div>

    <style>
      .custom-scrollbar::-webkit-scrollbar {
        width: 6px;
      }
      .custom-scrollbar::-webkit-scrollbar-track {
        background: transparent;
      }
      .custom-scrollbar::-webkit-scrollbar-thumb {
        background: rgba(255, 255, 255, 0.1);
        border-radius: 3px;
      }
      .custom-scrollbar::-webkit-scrollbar-thumb:hover {
        background: rgba(255, 255, 255, 0.2);
      }
    </style>

    <script>
      import "../scripts/llm-controller";
    </script>
  </div></Layout
>
